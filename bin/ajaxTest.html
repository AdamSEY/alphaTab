<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>AJaxTest</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="language" content="en" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<script language="JavaScript" type="text/javascript" src="jquery.js">
	</script>
	<script language="javascript" type="text/javascript">
	$(document).ready(function() {
		
		var binary = $.ajax({
	      url: "samples/minimal.gp5",
		  type: "GET",
		  async:false,
		  beforeSend: function(xhr) {
			if (xhr.overrideMimeType)
			{
				//xhr.overrideMimeType('text/plain; charset=x-user-defined');
			}
		  }
		}).responseText;
		
		var raw = $.ajax({
	      url: "samples/minimal.gp5",
		  type: "GET",
		  async:false,
		  beforeSend: function(xhr) {
		    //xhr.setRequestHeader('Accept-Encoding', 'x-user-defined');
		  }

		}).responseText;
		
		
		var res = "";
		for(var i = 0; i < binary.length; i++) {
			res += i + ":" + prepare(binary.charCodeAt(i)).toString(16) + " ";
			
			if(i%16 == 0) res += "\n";
		}
		$('#binary').val(res);
		
		res = "";
		for(var i = 0; i < raw.length; i++) {
		
			res += i + ":" + prepare(raw.charCodeAt(i)).toString(16) + " ";
			
			if(i%16 == 0) res += "\n";
		}
		$('#raw').val(res);
		$('#binary').val(binary.length);
		$('#raw').val(raw.length);
	});
	
	function prepare(num) {
	return num;
		if(num > 0xff) {
			return num & 0xff;
		}
		return num;
	}
	</script>
</head>
<body>
<textarea id="binary" style="width:800px; height:600px;"></textarea>
<textarea id="raw" style="width:800px; height:600px;"></textarea>
</body>
</html>